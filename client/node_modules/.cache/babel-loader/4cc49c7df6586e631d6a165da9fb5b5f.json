{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jared\\\\Desktop\\\\Coding Bootcamp FIles\\\\The_Three_Cs\\\\client\\\\src\\\\components\\\\Directory.js\";\nimport React, { Component } from 'react';\nimport Authenticate from './Authenticate';\nimport App from './App';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Directory extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user: null\n    };\n\n    this.updateUserState = user => {\n      this.setState({\n        user: user\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios({\n      method: \"get\",\n      withCredentials: true,\n      url: \"/user\"\n    }).then(res => this.setState({\n      user: res.data\n    })).then(res => {\n      console.log(this.state.user);\n      this.calcTotal();\n    });\n  }\n\n  calcTotal() {\n    var totalBudget = this.state.user.totalBudget;\n\n    for (var i = 0; i < this.state.user.events.length; i++) {\n      totalBudget = totalBudget + this.state.user.events[i].transaction;\n    }\n\n    ;\n    this.setState(prevState);\n    console.log(this.state);\n  }\n\n  // saveEvent() {\n  //     axios({\n  //         method: \"put\",\n  //         data: {\n  //             name: \n  //             transaction: \n  //         },\n  //         withCredentials: true,\n  //         url: \"http://localhost:4000/user/event\",\n  //     })\n  // }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: this.state.user ? /*#__PURE__*/_jsxDEV(App, {\n        user: this.state.user\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 32\n      }, this) : /*#__PURE__*/_jsxDEV(Authenticate, {\n        updateUserState: this.updateUserState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 64\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nexport default Directory;","map":{"version":3,"sources":["C:/Users/Jared/Desktop/Coding Bootcamp FIles/The_Three_Cs/client/src/components/Directory.js"],"names":["React","Component","Authenticate","App","axios","Directory","state","user","updateUserState","setState","componentDidMount","method","withCredentials","url","then","res","data","console","log","calcTotal","totalBudget","i","events","length","transaction","prevState","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AAIA,MAAMC,SAAN,SAAwBJ,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAE9BK,KAF8B,GAEtB;AACJC,MAAAA,IAAI,EAAE;AADF,KAFsB;;AAAA,SA0B9BC,eA1B8B,GA0BXD,IAAD,IAAU;AACxB,WAAKE,QAAL,CAAc;AAAEF,QAAAA,IAAI,EAAEA;AAAR,OAAd;AACH,KA5B6B;AAAA;;AAM9BG,EAAAA,iBAAiB,GAAG;AAChBN,IAAAA,KAAK,CAAC;AACFO,MAAAA,MAAM,EAAE,KADN;AAEFC,MAAAA,eAAe,EAAE,IAFf;AAGFC,MAAAA,GAAG,EAAE;AAHH,KAAD,CAAL,CAIGC,IAJH,CAISC,GAAD,IAAS,KAAKN,QAAL,CAAc;AAAEF,MAAAA,IAAI,EAAEQ,GAAG,CAACC;AAAZ,KAAd,CAJjB,EAImDF,IAJnD,CAIyDC,GAAD,IAAS;AAACE,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAL,CAAWC,IAAvB;AAA8B,WAAKY,SAAL;AAAiB,KAJjH;AAKH;;AAEAA,EAAAA,SAAS,GAAG;AACT,QAAIC,WAAW,GAAG,KAAKd,KAAL,CAAWC,IAAX,CAAgBa,WAAlC;;AAEI,SAAK,IAAIC,CAAC,GAAC,CAAX,EAAcA,CAAC,GAAG,KAAKf,KAAL,CAAWC,IAAX,CAAgBe,MAAhB,CAAuBC,MAAzC,EAAiDF,CAAC,EAAlD,EAAqD;AACjDD,MAAAA,WAAW,GAAGA,WAAW,GAAG,KAAKd,KAAL,CAAWC,IAAX,CAAgBe,MAAhB,CAAuBD,CAAvB,EAA0BG,WAAtD;AACH;;AAAA;AAED,SAAKf,QAAL,CAAcgB,SAAd;AACAR,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKZ,KAAjB;AACH;;AAOL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKAoB,EAAAA,MAAM,GAAG;AACN,wBACI;AAAA,gBACG,KAAKpB,KAAL,CAAWC,IAAX,gBAAiB,QAAC,GAAD;AAAK,QAAA,IAAI,EAAE,KAAKD,KAAL,CAAWC;AAAtB;AAAA;AAAA;AAAA;AAAA,cAAjB,gBAAiD,QAAC,YAAD;AAAc,QAAA,eAAe,EAAE,KAAKC;AAApC;AAAA;AAAA;AAAA;AAAA;AADpD;AAAA;AAAA;AAAA;AAAA,YADJ;AAMF;;AApD6B;;AAuDlC,eAAeH,SAAf","sourcesContent":["import React, { Component } from 'react';\nimport Authenticate from './Authenticate';\nimport App from './App';\nimport axios from 'axios';\n\n\n\nclass Directory extends Component {\n\n    state = {\n        user: null\n    }\n\n    componentDidMount() {\n        axios({\n            method: \"get\",\n            withCredentials: true,\n            url: \"/user\",\n        }).then((res) => this.setState({ user: res.data})).then((res) => {console.log(this.state.user); this.calcTotal()});\n    }\n\n     calcTotal() {\n        var totalBudget = this.state.user.totalBudget\n      \n            for (var i=0; i < this.state.user.events.length; i++){\n                totalBudget = totalBudget + this.state.user.events[i].transaction;\n            };\n            \n            this.setState(prevState )\n            console.log(this.state)\n        };\n      \n\n    updateUserState = (user) => {\n        this.setState({ user: user})\n    }\n\n    // saveEvent() {\n    //     axios({\n    //         method: \"put\",\n    //         data: {\n    //             name: \n    //             transaction: \n    //         },\n    //         withCredentials: true,\n    //         url: \"http://localhost:4000/user/event\",\n    //     })\n    // }\n\n\n    \n\n    render() {\n       return (\n           <div>\n             {this.state.user? <App user={this.state.user}/> : <Authenticate updateUserState={this.updateUserState}/>}\n           </div>\n       )\n\n    }\n}\n\nexport default Directory;"]},"metadata":{},"sourceType":"module"}